(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7600],{2311:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/dashboard/settings",function(){return s(8916)}])},3101:function(e,t,s){"use strict";s.d(t,{i:function(){return l}});var a=s(5893);s(7294);let l=()=>(0,a.jsx)("div",{className:"relative p-4 sm:p-6 lg:p-8",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})})})},443:function(e,t,s){"use strict";s.d(t,{e:function(){return r}});var a=s(5893);s(7294);var l=s(4894),n=s(5558);function r(){let{t:e}=(0,n.$G)();return(0,a.jsx)("main",{className:"grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-base font-semibold text-blue-600",children:"400"}),(0,a.jsx)("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:e("error:an-error-occurred")}),(0,a.jsx)("p",{className:"mt-6 text-base leading-7 text-gray-600",children:e("error:looking-into-it")}),(0,a.jsxs)("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:[(0,a.jsx)("button",{className:"rounded-md bg-blue-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",onClick:()=>{window.location.reload()},children:e("error:retry")}),(0,a.jsxs)(l.Z,{href:"/dashboard",className:"text-sm font-semibold text-gray-900",children:[e("error:back-to-dashboard")," ",(0,a.jsx)("span",{"aria-hidden":"true",children:"â†’"})]})]})]})})}},8916:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return A},default:function(){return I}});var a=s(5893),l=s(9008),n=s.n(l),r=s(1163),i=s(5423),o=s(7765),d=s(5558),c=s(7294),m=s(9196),u=s(97),x=s(6154),h=s(7536);function p(e){let{t}=(0,d.$G)(),{account:{email:s,firstName:l,lastName:n}}=e,{register:r,handleSubmit:i,getValues:o,formState:{errors:c},setValue:p,watch:g}=(0,h.cI)({defaultValues:{email:s,firstName:l,lastName:n}}),f=async e=>{try{let{email:t,firstName:s,lastName:a}=e;await (0,x.Z)({method:"patch",url:"".concat("https://api.kalygo.io","/api/v1/account"),headers:{"Content-Type":"application/json"},data:{email:t,firstName:s,lastName:a},withCredentials:!0})}catch(e){(0,m.D)(e)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-black",children:t("dashboard-page:settings.personal.title")})}),(0,a.jsxs)("form",{onSubmit:i(f),className:"md:col-span-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6",children:[(0,a.jsx)("div",{className:"col-span-full flex items-center gap-x-8",children:(0,a.jsx)(u.Z,{className:"h-24 w-24 flex-none rounded-lg white object-cover"})}),(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-medium leading-6 text-black",children:t("dashboard-page:settings.personal.first-name")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{...r("firstName",{}),type:"text",name:"firstName",id:"firstName",autoComplete:"firstName",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-black shadow-md ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{className:"sm:col-span-3",children:[(0,a.jsx)("label",{htmlFor:"last-name",className:"block text-sm font-medium leading-6 text-black",children:t("dashboard-page:settings.personal.last-name")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{...r("lastName",{}),type:"text",name:"lastName",id:"lastName",autoComplete:"lastName",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-black shadow-md ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{className:"col-span-full",children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-black",children:t("dashboard-page:settings.personal.email")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{...r("email",{required:!0,pattern:new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,5})+$/)}),id:"email",name:"email",type:"email",readOnly:!0,autoComplete:"email",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 ".concat(c.email&&"ring-red-700 focus:ring-red-500")})})]})]}),(0,a.jsx)("div",{className:"mt-8 flex",children:(0,a.jsx)("button",{type:"submit",className:"rounded-md bg-blue-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:t("dashboard-page:settings.personal.save")})})]})]})})}var g=s(6126);async function f(e,t){try{let e=await (0,x.Z)({method:"get",url:"".concat("https://api.kalygo.io","/api/v1/account"),headers:{"Content-Type":"application/json"},data:{},withCredentials:!0});console.log("resp",e),(0,g.o)(),t(e.data,null)}catch(e){(0,m.D)(e),t(null,e)}}var b=s(7495);let v=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))});var y=s(4080),j=s(6245);let w=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))});async function N(e,t){try{let s=await (0,x.Z)({method:"post",url:"".concat("https://api.kalygo.io","/api/v1/account/add-stripe-card"),headers:{"Content-Type":"application/json"},data:e,withCredentials:!0});console.log("resp",s),(0,g.o)(),t(s.data,null)}catch(e){(0,m.D)(e),t(null,e)}}function k(e){let{t}=(0,d.$G)(),{register:s,handleSubmit:l,getValues:n,formState:{errors:r,isValid:i},setValue:o,watch:u}=(0,h.cI)({defaultValues:{cardNumber:"",expDate:"",cvc:""}}),{open:x,cb:p}=e,g=async e=>{try{console.log("data",e);let[t,s]=e.expDate.split("/");await N({exp_month:t,exp_year:s,cvc:e.cvc,card_number:e.cardNumber},e=>{p(!1,e)})}catch(e){(0,m.D)(e)}};return(0,a.jsx)(y.u.Root,{show:x,as:c.Fragment,children:(0,a.jsxs)(j.V,{as:"div",className:"relative z-10",onClose:()=>p(!1,null),children:[(0,a.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(j.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:(0,a.jsx)(w,{className:"h-6 w-6 text-gray-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"mt-3 text-center sm:mt-5",children:(0,a.jsx)(j.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:t("dashboard-page:settings.payment.new-card-modal.card-details")})})]}),(0,a.jsxs)("form",{onSubmit:l(g),className:"flex flex-wrap gap-3 w-full p-5",children:[(0,a.jsxs)("label",{className:"relative w-full flex flex-col",children:[(0,a.jsx)("span",{className:"mb-3",children:t("dashboard-page:settings.payment.new-card-modal.card-number")}),(0,a.jsx)("input",{...s("cardNumber",{required:!0,pattern:new RegExp(/^[0-9]+$/)}),className:"rounded-md peer pl-12 pr-2 py-2 border-2 border-gray-200 placeholder-gray-300",type:"text",name:"cardNumber",placeholder:"0000 0000 0000 0000"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute bottom-0 left-0 -mb-0.5 transform translate-x-1/2 -translate-y-1/2 text-black peer-placeholder-shown:text-gray-300 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})]}),(0,a.jsxs)("label",{className:"relative flex-1 flex flex-col",children:[(0,a.jsx)("span",{className:"mb-3",children:t("dashboard-page:settings.payment.new-card-modal.expiration-date")}),(0,a.jsx)("input",{...s("expDate",{required:!0,pattern:new RegExp(/[0-9]{2}\/[0-9]{2}/)}),className:"rounded-md peer pl-12 pr-2 py-2 border-2 border-gray-200 placeholder-gray-300",type:"text",name:"expDate",placeholder:"MM/YY"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute bottom-0 left-0 -mb-0.5 transform translate-x-1/2 -translate-y-1/2 text-black peer-placeholder-shown:text-gray-300 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),(0,a.jsxs)("label",{className:"relative flex-1 flex flex-col",children:[(0,a.jsxs)("span",{className:"flex items-center gap-3 mb-3",children:[t("dashboard-page:settings.payment.new-card-modal.cvv"),(0,a.jsxs)("span",{className:"relative group",children:[(0,a.jsxs)("span",{className:"hidden group-hover:flex justify-center items-center px-2 py-1 text-xs absolute -right-2 transform translate-x-full -translate-y-1/2 w-max top-1/2 bg-black text-white",children:[" ",t("dashboard-page:settings.payment.new-card-modal.security-code")]}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]}),(0,a.jsx)("input",{...s("cvc",{required:!0,pattern:new RegExp(/^[0-9]+$/)}),className:"rounded-md peer pl-12 pr-2 py-2 border-2 border-gray-200 placeholder-gray-300",type:"text",name:"cvc",placeholder:"â€¢â€¢â€¢"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute bottom-0 left-0 -mb-0.5 transform translate-x-1/2 -translate-y-1/2 text-black peer-placeholder-shown:text-gray-300 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]}),(0,a.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,a.jsx)("button",{disabled:!i,onClick:()=>g(n()),type:"button",className:"inline-flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 sm:col-start-2",children:"Save"}),(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0",onClick:()=>p(!1,null),children:"Cancel"})]})]})})})})]})})}async function C(e){try{let t=await (0,x.Z)({method:"get",url:"".concat("https://api.kalygo.io","/api/v1/account/get-stripe-cards"),headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("resp",t),(0,g.o)(),e(t.data,null)}catch(t){(0,m.D)(t),e(null,t)}}async function E(e,t){try{let s=await (0,x.Z)({method:"delete",url:"".concat("https://api.kalygo.io","/api/v1/account/delete-stripe-card"),headers:{"Content-Type":"application/json"},data:{card_id:e},withCredentials:!0});console.log("resp",s),(0,g.o)(),t(s.data,t(!0,null))}catch(e){(0,m.D)(e),t(null,e)}}function F(e){let{cb:t,id:s}=e,{t:l}=(0,d.$G)(),[n,r]=(0,c.useState)({val:[],loading:!0,err:null}),[i,o]=(0,c.useState)(!1);(0,c.useEffect)(()=>{r({val:[],loading:!0,err:null}),C((e,t)=>{t?r({val:[],loading:!1,err:t}):r({val:e,loading:!1,err:null})})},[]);let m=null;if(n.loading)m=(0,a.jsx)("div",{className:"text-center",children:"..."});else if(n.err)m=(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(b.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:l("dashboard-page:settings.payment.no-card")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l("dashboard-page:settings.payment.get-started")}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",onClick:()=>{o(!0)},children:[(0,a.jsx)(v,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),l("dashboard-page:settings.payment.new-card")]})})]});else if(n.val){var u,x;m=(0,a.jsx)("div",{children:(null===(u=n.val)||void 0===u?void 0:u.length)>0?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{role:"list",className:"mt-6 divide-y divide-gray-100 border-t border-gray-200 text-sm leading-6",children:null===(x=n.val)||void 0===x?void 0:x.map((e,s)=>(0,a.jsxs)("li",{className:"flex justify-between gap-x-6 py-6",children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:["**** **** **** ",e.last4]}),(0,a.jsx)("button",{type:"button",className:"font-semibold text-red-600 hover:text-red-500",onClick:()=>{E(e.id,(e,a)=>{if(a)console.error(a);else{var l;r({val:null===(l=n.val)||void 0===l?void 0:l.filter((e,t)=>t!==s),loading:!1,err:null}),t()}})},children:l("dashboard-page:settings.payment.delete-card")})]},s))})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(b.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:l("dashboard-page:settings.payment.no-card")}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:l("dashboard-page:settings.payment.get-started")}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600",onClick:()=>{o(!0)},children:[(0,a.jsx)(v,{className:"-ml-0.5 mr-1.5 h-5 w-5","aria-hidden":"true"}),l("dashboard-page:settings.payment.new-card")]})})]})})})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:s,className:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-black",children:l("dashboard-page:settings.payment.title")})}),m]}),(0,a.jsx)(k,{open:i,cb:(e,t)=>{t&&r({val:[...n.val,t],loading:!1,err:null}),o(e)}})]})}var T=s(6542);async function D(e,t){try{let s=await (0,x.Z)({method:"delete",url:"".concat("https://api.kalygo.io","/api/v1/account/cancel-subscription"),headers:{"Content-Type":"application/json"},data:{subscriptionId:e},withCredentials:!0});console.log("resp",s),t()}catch(e){(0,m.D)(e)}}var R=s(9906),S=s(9208),M=s.n(S);function L(e){let{t}=(0,d.$G)(),{account:{email:s,firstName:l,lastName:n,subscriptionPlan:r,subscriptions:i},cb:o}=e,{register:u,handleSubmit:p,getValues:g,formState:{errors:f},setValue:b,watch:v}=(0,h.cI)({defaultValues:{plan:r}});(0,c.useEffect)(()=>{console.log("--- !!! ---"),b("plan",r)},[r]);let y=async e=>{try{let{plan:a}=e;console.log("onSubmit"),await (0,x.Z)({method:"patch",url:"".concat("https://api.kalygo.io","/api/v1/account/change-plan"),headers:{"Content-Type":"application/json"},data:{email:s,firstName:l,lastName:n,subscriptionPlan:a},withCredentials:!0}),o(),(0,R.Rr)(t("toast-messages:successfully-changed-plan"))}catch(e){b("plan",r),(0,m.D)(e)}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-black",children:t("dashboard-page:settings.subscription.title")})}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("h3",{children:[t("dashboard-page:settings.subscription.you-are-currently-on")," ",r]}),(0,a.jsx)("div",{className:"pb-16",children:M()(i,"data",[]).map((e,s)=>{let l=1e3*new Date(e.start_date).getTime();return e.canceled_at<Date.now()/1e3?(0,a.jsxs)("div",{className:"pt-6 flex flex-col sm:flex-row items-center",children:[(0,a.jsx)("dt",{className:"font-medium text-gray-900 sm:w-64 sm:flex-none sm:pr-6",children:new Date(l).toDateString()}),(0,a.jsxs)("dd",{className:"mt-1 flex justify-start gap-x-6 sm:mt-0 sm:flex-row",children:[(0,a.jsx)("div",{className:"text-gray-900",children:e.status}),(0,a.jsx)("button",{type:"button",className:"font-semibold text-red-600 hover:text-red-500",onClick:()=>{D(e.id,()=>{o(),b("plan","STANDARD")})},children:t("dashboard-page:settings.subscription.cancel")})]})]},e.id):null})}),(0,a.jsxs)("form",{onSubmit:p(y),children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-x-6 gap-y-8 sm:max-w-xl sm:grid-cols-6",children:(0,a.jsxs)("div",{className:"col-span-full",children:[(0,a.jsx)("label",{htmlFor:"plan",className:"block text-sm font-medium leading-6 text-black",children:t("dashboard-page:settings.subscription.switch-plan")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("select",{...u("plan",{required:!0}),id:"plan",name:"plan",className:"block w-full rounded-md border-0 bg-white/5 py-1.5 text-black shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-indigo-500 sm:text-sm sm:leading-6 [&_*]:text-black",children:[(0,a.jsx)("option",{value:"FREE",children:"Free"},"FREE"),(0,a.jsx)("option",{value:"STANDARD",children:"Standard"},"STANDARD"),(0,a.jsx)("option",{value:"PREMIUM",children:"Premium"},"PREMIUM")]})})]})}),(0,a.jsx)("div",{className:"mt-8 flex",children:(0,a.jsx)("button",{type:"submit",className:"rounded-md bg-blue-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",children:t("dashboard-page:settings.subscription.change")})})]})]})]})})}let _=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))});async function V(e){try{let t=await (0,x.Z)({method:"delete",url:"".concat("https://api.kalygo.io","/api/v1/account"),headers:{"Content-Type":"application/json"},data:{},withCredentials:!0});console.log("resp",t),e()}catch(e){(0,m.D)(e)}}function z(e){let{t}=(0,d.$G)(),{register:s,handleSubmit:l,getValues:n,formState:{errors:r,isValid:i},setValue:o,watch:u}=(0,h.cI)({defaultValues:{}}),{open:x,cb:p,setIsModalOpen:g}=e,f=async e=>{try{console.log("data",e),await V(()=>{p()})}catch(e){(0,m.D)(e)}};return(0,a.jsx)(y.u.Root,{show:x,as:c.Fragment,children:(0,a.jsxs)(j.V,{as:"div",className:"relative z-10",onClose:()=>g(!1),children:[(0,a.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(j.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:(0,a.jsx)(_,{className:"h-6 w-6 text-gray-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"mt-3 text-center sm:mt-5",children:(0,a.jsx)(j.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:t("dashboard-page:settings.delete-account.delete-account-modal.are-you-sure")})})]}),(0,a.jsx)("form",{onSubmit:l(f),className:"flex flex-wrap gap-3 w-full p-5"}),(0,a.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,a.jsx)("button",{disabled:!i,onClick:()=>f(n()),type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-600 sm:col-start-2",children:t("dashboard-page:settings.delete-account.delete-account-modal.delete")}),(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0",onClick:()=>g(!1),children:t("dashboard-page:settings.delete-account.delete-account-modal.cancel")})]})]})})})})]})})}function Z(){let{t:e}=(0,d.$G)(),t=(0,r.useRouter)(),[s,l]=(0,c.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-black",children:e("dashboard-page:settings.delete-account.title")}),(0,a.jsx)("p",{className:"mt-1 text-sm leading-6 text-gray-400",children:e("dashboard-page:settings.delete-account.you-can-mark-your-account")})]}),(0,a.jsx)("div",{className:"flex items-start md:col-span-2",children:(0,a.jsx)("button",{onClick:()=>{l(!0)},className:"rounded-md bg-red-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-400",children:e("dashboard-page:settings.delete-account.delete-my-account")})})]}),(0,a.jsx)(z,{open:s,cb:()=>{t.push("/")},setIsModalOpen:e=>{l(e)}})]})}var $=s(3101),B=s(443);function G(e){let{account:{summaryCredits:t,vectorSearchCredits:s,customRequestCredits:l}}=e,{t:n}=(0,d.$G)(),r=[{id:1,name:n(1===t?"dashboard-page:settings.free-credits.summary":"dashboard-page:settings.free-credits.summaries"),value:t},{id:2,name:n(1===s?"dashboard-page:settings.free-credits.vector-search":"dashboard-page:settings.free-credits.vector-searches"),value:s},{id:3,name:n(1===l?"dashboard-page:settings.free-credits.custom-request-credit":"dashboard-page:settings.free-credits.custom-request-credits"),value:l}];return(0,a.jsxs)("div",{className:"grid max-w-full grid-cols-1 gap-x-8 gap-y-10 px-4 py-16 sm:px-6 md:grid-cols-3 lg:px-8",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-base font-semibold leading-7 text-black",children:n("dashboard-page:settings.free-credits.title")})}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)("dl",{className:"mt-16 grid grid-cols-1 gap-0.5 overflow-hidden rounded-2xl text-center sm:grid-cols-2 lg:grid-cols-4",children:r.map(e=>(0,a.jsxs)("div",{className:"flex flex-col p-8",children:[(0,a.jsx)("dt",{className:"text-sm font-semibold leading-6 text-gray-600",children:e.name}),(0,a.jsx)("dd",{className:"order-first text-3xl font-semibold tracking-tight text-gray-900",children:e.value})]},e.id))})})]})}var A=!0;function I(){let{state:e,dispatch:t}=(0,i.b)(),{t:s}=(0,d.$G)(),l=(0,r.useRouter)(),{asPath:m}=l,[u,x]=(0,c.useState)({val:null,loading:!0,err:null});async function h(){f(s,(e,t)=>{t?x({val:null,loading:!1,err:t}):x({val:e,loading:!1,err:null})})}(0,c.useEffect)(()=>{if(u.val){let e=null==m?void 0:m.split("#")[1],t=document.getElementById("dashboard-sticky-top-nav"),s=document.getElementById(e);s&&window.scrollTo(s.offsetLeft,s.offsetTop-M()(t,"clientHeight",0))}},[m,u.val]),(0,c.useEffect)(()=>{h()},[]);let g=null;return g=u.loading?(0,a.jsx)(T.z,{}):u.err?(0,a.jsx)(B.e,{}):u.val?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{account:u.val}),(0,a.jsx)($.i,{}),(0,a.jsx)(G,{account:u.val}),(0,a.jsx)($.i,{}),(0,a.jsx)(L,{account:u.val,cb:()=>{h()}}),(0,a.jsx)($.i,{}),(0,a.jsx)(F,{id:"payment-section",cb:()=>{h()}}),(0,a.jsx)($.i,{}),(0,a.jsx)(Z,{})]}):(0,a.jsx)("div",{className:"text-center",children:s("dashboard-page:unknown-error")}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:s("seo:dashboard-page-seo-meta-title")})}),(0,a.jsx)(o.Z,{children:g})]})}I.requireAuth=!0},9906:function(e,t,s){"use strict";s.d(t,{Jc:function(){return a.J},Rr:function(){return l.R}});var a=s(6133),l=s(8928);s(5678)},7495:function(e,t,s){"use strict";var a=s(7294);let l=a.forwardRef(function({title:e,titleId:t,...s},l){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:l,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"}))});t.Z=l}},function(e){e.O(0,[5675,1664,5912,4165,820,7536,9208,7765,9774,2888,179],function(){return e(e.s=2311)}),_N_E=e.O()}]);